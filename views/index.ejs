<%- include ("./partials/header") %>

<head>
  <title>Spot</title>
  <link href="/stylesheets/index.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">\
    <meta content="width=device-width, initial scale 0.3" name="viewport">
</head>
<body>
    <section class="hero">
        <div class="container text-center">
          <div class="row">
            <div class="col-md-12">
              <h2>Spot</h2>
            </div>
          </div>
        </div>
      </section>
      <section>
        <div class="container text-center">
          <button id="read" class="btn btn-outline-primary">Connect with BLE device</button>
          <button id="start" class="btn btn-outline-primary" disabled>Start</button>
          <button id="stop" class="btn btn-outline-primary" disabled>Stop</button>
          <div id="weightDisplay" class="circle"></div>
        </div>
      </div>
      </section>
      <section>
        <div id="chart"></div>
          <script>
            function getData(){

              return Math.random();
            }

            Plotly.plot('chart',[{
              y:[getData()],
              type:'line'
            }]);

            var cnt = 0;

            setInterval(function() {
            Plotly.extendTraces('chart', { y: [[getData()]] }, [0]);
            cnt++;

            if(cnt>500) {
              Plotly.relayout('chart',{
                xaxis: {
                range: [cnt-500,cnt]
               }
            });
            }
            }, 200);



          </script>

      </section>
</body>

<script src="/scripts/app.js"></script>
